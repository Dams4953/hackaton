<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="sass/reset.css">
    <link rel="stylesheet" href="sass/style.css">
    <script src="graph.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <header class="header">
        <div class="container_image">
            <img src="/img/logo.png" alt="logo_company" width="100" height="100">
        </div>
        <nav class="nav_bar">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="#">Contact</a></li>
        </nav>
    </header>
    <main>
        <div class="container_solutions">

            <div class="container_solutions_ticket">
                <h3 class="title_solution">Ticket 182</h3>
                <p class="date">16/03/2024</p>
                <div class="cirlce_red"></div>
            </div>

            <div class="container_solutions_title">
                <p class="bus">Bus 86 Gosselies Athénée- Charleroi gare centrale</p>
                <p class="arret">CHARLEROI OUEST</p>
            </div>

            <canvas id="myChart"></canvas>

            <div class="div_data">
                <p class="data">
                    Déviation pour les bus de la ligne 86 vers Boulevard Jacques Bertrand.
                </p>
                <p class="data">
                    Arrêt temporaire dans la rue des Alliés.
                </p>
            </div>

            <div>
                <a href="img/carte_aisin.jpg" target="_blank"><img class="map" src="img/Map.jpg" alt="map"></a>
            </div>
        </div>
    </main>
    <script>
    
        const data = [
            {
                "vit": 11,
                "time": '8h00',
                "valid": 18
            },
            {
                "vit": 9,
                "time": '8h30',
                "valid": 19

            },
            {
                "vit": 4,
                "time": '9h00',
                "valid": 1
            },
            {
                "vit": 16,
                "time": '9h30',
                "valid": 4
            },
            {
                "vit": 28,
                "time": '10h00',
                "valid": 11
            },
            {
                "vit": 30,
                "time": '10h30',
                "valid": 9
            },
            {
                "vit": 9,
                "time": '11h00',
                "valid": 12
            }
        ];

        const vitesses = data.map(entry => entry.vit);
        const temps = data.map(entry => entry.time);
        const validations = data.map(entry => entry.valid)

        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: temps,
                datasets: [
                    {
                        label: 'Vitesse',
                        data: vitesses,
                        fill: false,
                        borderColor: 'blue',
                        tension: 0.6,

                    },
                    {
                        label: 'Validation ',
                        data: validations,
                        fill: false,
                        borderColor: 'red',
                        tension: 0.6,
                    },
                ]
            },
            options: {
                scales: {
                    y: {
                        position: 'left',
                        beginAtZero: true
                    },
                    

                    y1: {
                        position: 'right', 
                        grid: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Validation'
                        },

                        min: 0,
                        max: 20,
                        ticks: {

                            stepSize: 2
                        }
                    }
                }

            }
        });

    </script>
</body>

</html>